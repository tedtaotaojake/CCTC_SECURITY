#Initital control socket with jumpbox
student@lin-ops:~$ ssh -MS /tmp/jump student@10.50.35.127 
student@lin-ops:~$ ssh -S /tmp/jump jump
#Dynamic port forward to jumpbox
student@lin-ops:~$ ssh -S /tmp/jump jump -O forward -D 9050
student@lin-ops:~$ ssh -S /tmp/jump jump -O cancel -D 9050
#Scan tgt ip 
student@lin-ops:~$ proxychains nmap -Pn -T4 -vvvv 192.168.28.100
#80 and 2222 open
proxychains nc 192.168.28.100 80(HTTP)
proxychains nc 192.168.28.100 2222(SSH)
#Create static port forwards to 80 and 2222 on tgt ip, can stack local tunneling. first 2222 random.
ssh -S /tmp/jump jump -O forward -L 1111:192.168.28.100:80 -L 2222:192.168.28.100:2222
#Test if it works
student@lin-ops:~$ nc 127.0.0.1 1111/2222
student@lin-ops:~$ firefox
127.0.0.1:1111
#Create control socket to web server
student@lin-ops:~$ ssh -MS /tmp/web <creds>@127.0.0.1 -p 2222
student@lin-ops:~$ vim scraper.py
student@lin-ops:~$ chmod u+x scraper.py 
student@lin-ops:~$ ./scraper.py 
#View all scripts
ls -la /usr/share/nmap/scripts
#Enumerate the HTTP
proxychains nmap -Pn -T4 -vvvv --script=http-enum 192.168.28.100 80
#Exploitdb for info

student@lin-ops:~$ ssh -S /tmp/web web -O forward -D 9050
student@lin-ops:~$ ssh -MS /tmp/web student@127.0.0.1 -p 1115 -D 9050
student@lin-ops:~$ proxychains nmap -Pn -T4 --script smb-os-discovery -vvvv 192.168.150.245
